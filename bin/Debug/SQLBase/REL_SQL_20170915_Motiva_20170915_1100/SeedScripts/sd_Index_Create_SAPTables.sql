-- Create indices for the SAP tables to speed up the processing of Nexus response messages

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPARStaging_BatchID')
    DROP INDEX IDX_MTVSAPARStaging_BatchID ON dbo.MTVSAPARStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPARStaging_BatchID ON dbo.MTVSAPARStaging(BatchID);

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPAPStaging_BatchID')
    DROP INDEX IDX_MTVSAPAPStaging_BatchID ON dbo.MTVSAPAPStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPAPStaging_BatchID ON dbo.MTVSAPAPStaging(BatchID);

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPGLStaging_BatchID')
    DROP INDEX IDX_MTVSAPGLStaging_BatchID ON dbo.MTVSAPGLStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPGLStaging_BatchID ON dbo.MTVSAPGLStaging(BatchID);

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPARStaging_CIIMssgQID')
    DROP INDEX IDX_MTVSAPARStaging_CIIMssgQID ON dbo.MTVSAPARStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPARStaging_CIIMssgQID ON dbo.MTVSAPARStaging(CIIMssgQID);

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPAPStaging_CIIMssgQID')
    DROP INDEX IDX_MTVSAPAPStaging_CIIMssgQID ON dbo.MTVSAPAPStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPAPStaging_CIIMssgQID ON dbo.MTVSAPAPStaging(CIIMssgQID);

IF EXISTS (SELECT 1 from sys.indexes WHERE name = N'IDX_MTVSAPGLStaging_CGLIID')
    DROP INDEX IDX_MTVSAPGLStaging_CGLIID ON dbo.MTVSAPGLStaging;
CREATE NONCLUSTERED INDEX IDX_MTVSAPGLStaging_CGLIID ON dbo.MTVSAPGLStaging(CGLIID);
